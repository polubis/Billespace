Feature: Office management
  Context:
    - Billennium has many offices.
    - There is a need to edit the office or add a new one.

  Given: I'm authorized in Billespace
    And: I'm @RECEPCIONIST@
    And: I'm in @OFFICE_FORM@
      Scenario: Invalid data provided
        Then: I choosed country
        Then: I choosed city
        Then: I choosed address
        Then: I choosed post code
        Then: I created @OFFICE_ZONE@ list
        Then: I created @PARKING_ZONE@ list
          Or: Skipped @PARKING_ZONE@ list creation
        Then: I added @OFFICE_MAP@
          Or: I skipped adding @OFFICE_MAP@
        When: Data is invalid
        Then: I have error displayed

      Scenario: @OFFICE@ created
        Then: I choosed country
        Then: I choosed city
        Then: I choosed address
        Then: I choosed post code
        Then: I created @OFFICE_ZONE@ list
        Then: I created @PARKING_ZONE@ list
          Or: Skipped @PARKING_ZONE@ list creation
        Then: I added @OFFICE_MAP@
          Or: I skipped adding @OFFICE_MAP@
        Then: I confirmed provided data
        Then: I created @OFFICE@

      Scenario: @OFFICE@ already exists
        Then: I populated whole @OFFICE_FORM@
        When: @OFFICE@ with given address already exists
        Then: I see error

      Scenario: Someone already edited @OFFICE@
        When: Someone else edited @OFFICE@ data before me
        Then: I have error displayed

      Scenario: @OFFICE@ edit
        Then: I choosed @OFFICE@ to edit
        Then: I have filled @OFFICE@ data in form already
        Then: I provided changes
        Then: @OFFICE@ has been updated


